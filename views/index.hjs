<html>
  <head>
    <title>My Angular App!</title>
    <script src="javascripts/angular.min.js"></script>
    <script src="javascripts/angularApp.js"></script>
    <script src="javascripts/angular-animate.js"></script>
    <script src="javascripts/jquery-min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <script src="javascripts/bootstrap.min.js"></script>
    <script src="javascripts/angular-ui-router.js"></script>
    <link rel="stylesheet" type="text/css" href="stylesheets/reset.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/bootstrap.css">
    <script src="javascripts/bootstrap-min.js"></script>
    <link href='http://fonts.googleapis.com/css?family=Euphoria+Script' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Seaweed+Script' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/atm.css">
  </head>
  <body ng-app="atm" ng-controller="ctrl">
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand deftone" href="#">At This Moment</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <form class="navbar-form navbar-right">
            <div class="input-group">
              <input type="text" class="form-control" placeholder="Search for...">
              <span class="input-group-btn">
                <button class="btn btn-default" type="button">Go!</button>
              </span>
            </div>
          </form>
        </div><!--/.navbar-collapse -->
      </div>
    </nav>

    <!-- Main jumbotron for a primary marketing message or call to action -->
    <div class="jumbotron">
      <img class="indicator ng-hide" ng-show="loading" src="images/loader.gif"/>
        <div ui-view="jumbotron"></div>
        <div ui-view></div>
    </div>
    <div class="container" style="text-align:center">
      <div class="info" ui-view="info">
      </div>
    </div>
      <script type="text/ng-template" id="/info.html">
        <div class="row">
          <div class="col-lg-4">
            <img class="img-circle" src="images/privacy.jpg" alt="Generic placeholder image" style="width: 140px; height: 140px;">
            <h3>Your privacy</h3>
            <p>Donec sed odio dui. Etiam porta sem malesuada magna mollis euismod. Nullam id dolor id nibh ultricies vehicula ut id elit. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Praesent commodo cursus magna.</p>
          </div>
          <div class="col-lg-4">
            <img class="img-circle" src="images/maps.png" alt="Generic placeholder image" style="width: 140px; height: 140px;">
            <h3>Location based services</h3>
            <p>Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Cras mattis consectetur purus sit amet fermentum. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh.</p>
          </div>
          <div class="col-lg-4">
            <img class="img-circle" src="images/anonymous.png" alt="Generic placeholder image" style="width: 140px; height: 140px;">
            <h3>Anonymity</h3>
            <p>Donec sed odio dui. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus.</p>
          </div>
        </div>
      </script>
      <script type="text/ng-template" id="/photo.html">
        <div class="" ng-controller="PhotosController">
          <div class="row">
            <div class="col-md-4 col-xs-12 col-lg-4 centerbox nopadding">
              </br>
              <div class="thumbnail">
                <img src="{{ photo.img_url }}" style="">
                <div class="caption">
                  <h3><a href="#/get/{{photo.uniq_token}}">{{photo.title}}</a></h3>
                  <p>{{photo.description}}</p>
                  <h3>{{photo.upvotes }}</h3>
                </div>
              </div>
            </div>
          </div>
        </div>
      </script>

      <script type="text/ng-template" id="/home.html">
        <div class="container nopadding">
            <div class="container nopadding" style="width:100%;">
              <h2>Find exciting snapshots around you!</h2>
              <p>Discover your neighborhood, city, or wherever you are like never before. Help others find interesting places to visit!</p>
            <div class="span5 offset1">
          </div>
        <div class="row">
          <div class="container">
            <div style="" ng-controller="SliderController">
              <slider images="images"/>
            </div>
          </div>
        <div class="test">
        </div>
        <div class="col-xs-12">
          <div class="btn-group" style="width:200px;margin:0px auto;display:block;" data-toggle="buttons">
            <p><a style="width:200px;display:block;"class="btn btn-success btn-lg" href="#all" role="button">Discover nearby!</a></p>
            <p><a style="width:200px;"class="btn btn-primary btn-lg" href="#upload" role="button">Upload photo »</a></p>
          </div>
        </div>
        </div>
        </div>
        </div>
      </script>
      <script type="text/ng-template" id="/asdf.html">
      <a href="#/get/{{photo.uniq_token}}">{{photo.title}}</a> - {{photo.upvotes}}
      </script>
            <script type="text/javascript">
              function PreviewImage(){
        var oFReader = new FileReader();
        oFReader.readAsDataURL(document.getElementById("uploadImage").files[0]);

        oFReader.onload = function (oFREvent) {
            document.getElementById("imagePreview").src = oFREvent.target.result;
        };
              };

              </script>
      <script type="text/ng-template" id="/upload.html">
      <div class="style2">
        <form name="form" class="form-inline" ng-submit="addPhoto()">
          <div class="row">
            <h1 id="percent"></h1>
            <div id="fileInput" class="form-group col-lg-1">
            <input id="uploadImage" file-model="file" onchange="PreviewImage()" type="file"/>
            </div>
            </br>
          </div>
          <div class="row">
            <div class="">
              <img src="images/placeholder_large.jpg" class="thumbnail" id="imagePreview" style="width:250px;margin:0 auto;margin-bottom:20px;"/>
            </div>
          </div>
          <div class="progress">
            <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width:0%;">
              60%
            </div>
          </div>
          <div class="row">
            <div id="titleInput" class="form-group col-lg-1">
            <input style="width:250px;height:35px;" class="form-control" type="text" ng-minlength="1" ng-maxlength="25" ng-required="true" ng-model="title" placeholder="Title"></input>
            </div>
          </div>
          <div class="row">
            <div class="form-group col-lg-1">
            <textarea class="form-control" rows="4" style="width:250px;" ng-model="description" placeholder="Description"></textarea></br>
            <button class="btn" id="submit" style="width:100px;" type="submit">Post</button>
            </div>
          </div>
          <div class="validation" style="color:maroon">
          </br>
            <div ng-show="isNotImage" id="number">The file you chose is not an image. Please an image to upload.</div>
          <div>
        </form>
      </div>
      </script>
      <script type="text/ng-template" id="/photos.html">
      <div class="row" ng-controller="ctrl">
          </br>
      <div class="container" ng-hide="empty" style="width:530px;text-align:center;">
        <div class="alert alert-info" role="alert">
          <strong>No photos found near you!</strong>
          Start by capturing!
        </div>
        <span class="glyphicon glyphicon-chevron-down tick"></span>
        </br>
        </br>
        <div class="btn-group" style="width:200px;margin:0px auto;display:block;" data-toggle="buttons">
          <p><a style="width:200px;"class="btn btn-primary btn-lg" href="#upload" role="button">Upload photo »</a></p>
        </div>
      </div>
          <div class="col-md-4 col-xs-12 col-lg-3 centerbox nopadding">
            <div class="thumbnail nopadding" ng-repeat="photo in photos | orderBy: '-upvotes'">
              <img src="{{ photo.img_url }}">
              <div class="caption">
                <h4><a href="#/get/{{photo.uniq_token}}">{{ photo.title }}</a></h4>
                <p style="font-size:16px;"> {{ photo.description }} </p>
                <div style="display:inline-block;margin-right:10px;">
                  <h4 style="color:green">{{photo.upvotes}}</h4>
                  <a href="#" ng-click="incrementUpvotes(photo)"<span class="glyphicon glyphicon-thumbs-up"></span></a>
                </div>
                <div style="display:inline-block;">
                  <h4 style="color:red">{{photo.upvotes}}</h4>
                  <a href="#" ng-click="incrementUpvotes(photo)"<span class="glyphicon glyphicon-thumbs-down"></span></a>
                </div>
              </div>
            </div>
          </div>
      </div>
      </script>
      <script src="javascripts/socket.io.js"></script>
      <script>
          var socket = io();
          socket.on("uploadProgress", function(data){
            $(".progress-bar").attr("style","width:"+data+"%;");
            $(".progress-bar").text(data);
          });
      </script>
      <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
              <h4 class="modal-title" id="exampleModalLabel">New message</h4>
            </div>
            <div class="modal-body">
              <form>
                <div class="form-group">
                  <label for="recipient-name" class="control-label">Recipient:</label>
                  <input type="text" class="form-control" id="recipient-name">
                </div>
                <div class="form-group">
                  <label for="message-text" class="control-label">Message:</label>
                  <textarea class="form-control" id="message-text"></textarea>
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Send message</button>
            </div>
          </div>
        </div>
      </div>
  </body>
</html>
